<!-- seva-meteor.html -->
<head>
	<title>Trivia</title>
</head>

<body>
	<div class="container">
		<header>
			<h1>TRIVIA ({{incompleteCount}})</h1>
			<!-- add a form below the h1 -->
			<label class="hide-completed">
				<input type="checkbox" checked="{{hideCompleted}}" />
				Hide Completed Tasks
			</label>			
			{{> loginButtons}}
			{{#if currentUser}}
			<form class="new-task">
				<input type="text" name="text" placeholder="Type to add new tasks" />
			</form>
			{{/if}}
			
		</header>
		
		{{> trivia}}
		
		<ul>
			{{#each tasks}}
			{{> task}}
			{{/each}}
		</ul>
	</div>
</body>

<template name="trivia">
	<button class="get_trivia">!Trivia</button>
	<p>Trivia: {{random_trivia}}</p>
	<p>Counter: {{counter}}</p>
</template>

<template name="task">
	<li class="{{#if checked}}checked{{/if}} {{#if private}}private{{/if}}">
		<button class="delete">&times;</button>
		
		<input type="checkbox" checked="{{checked}}" class="toggle-checked" />
		{{#if isOwner}}
		<button class="toggle-private">
			{{#if private}}
			Private
			{{else}}
			Public
			{{/if}}
		</button>
		{{/if}}
		<span class="text"><strong>{{username}}</strong> - {{text}}</span>
	</li>
</template>